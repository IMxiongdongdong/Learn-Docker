## 3. 数据卷

在`docker`中，要想实现数据的持久化，即数据不随着容器的结束而结束，需要将数据从宿主机挂载到容器中。

数据卷是一个可供一个或多个容器使用的目录，它可以：

* 数据卷可以在容器之间共享和重用
* 对数据卷的修改会立马生效
* 对数据卷的更改不会包含在镜像的更新中
* 数据卷的生命周期会一直持续到没有容器使用它为止
* 绕过拷贝写系统，以达到本地磁盘`IO`的性能，在容器中对数据卷修改内容，会直接改变数据卷中的内容，所以是本地磁盘`IO`的功能，而不是先在容器中写一份，最后还要将容器中的修改的内容拷贝出来进行同步。

目前`docker`提供了三种不同的数据挂载的方式：

* `volumes`（最常用的方式）：`docker`管理宿主机文件系统的一部分，默认位于`/var/lib/docker/volumes`目录中。
* `bind mounts`（比较常用的方式）：可以存储在宿主机系统的任意位置。
* `tmpfs`（一般都不会用的方式）：挂载存储在宿主机系统的内存中，而不会写入宿主机的文件系统。